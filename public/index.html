<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Interactive Art - One Page Edition</title>
    <script src="https://pixijs.download/release/v7.4.2/pixi.min.js"></script>
    <style>
        body { margin: 0; padding: 0; overflow: hidden; background-color: #0a0a0a; height: 100vh; font-family: 'Courier New', monospace; touch-action: none; color: #F7F8F6; }
        
        /* [1] 인트로 레이어: 처음에는 이것만 보입니다 */
        #intro-overlay {
            position: fixed; inset: 0;
            background: #0a0a0a; z-index: 200;
            display: flex; justify-content: center; align-items: center;
            cursor: pointer; transition: opacity 1.5s ease, visibility 1.5s;
        }
        .enter-prompt { text-align: center; letter-spacing: 0.8em; font-size: 13px; animation: blink 2s infinite; }
        @keyframes blink { 0%, 100% { opacity: 0.2; } 50% { opacity: 0.7; } }

        /* [2] 메인 콘텐츠: 처음에는 숨겨져 있습니다 */
        #main-content { opacity: 0; transition: opacity 2.5s ease; }
        #art-section { position: absolute; inset: 0; z-index: 5; }
        #ui-layer {
            position: absolute; inset: 0; z-index: 30; pointer-events: none;
            display: flex; justify-content: space-between; padding: 40px;
        }
        .data-column { display: flex; flex-direction: column; gap: 20px; }
        .word-item { 
            font-size: 11px; font-weight: 900; letter-spacing: 0.2em; 
            border-left: 2px solid #F7F8F6; padding: 5px 12px;
            background: rgba(247, 248, 246, 0.03); width: fit-content; min-width: 180px;
        }

        /* [3] 노이즈 필터 */
        .grain { position: fixed; inset: -50%; width: 200%; height: 200%; background-image: url('https://upload.wikimedia.org/wikipedia/commons/7/76/1k_Resolution_Noise.png'); opacity: 0.06; pointer-events: none; z-index: 100; animation: noise 0.2s infinite; }
        @keyframes noise { 0% { transform: translate(0,0); } 100% { transform: translate(2%,1%); } }

        /* 활성화 상태 */
        .active #intro-overlay { opacity: 0; visibility: hidden; }
        .active #main-content { opacity: 1; }
    </style>
</head>
<body>
    <div class="grain"></div>
    
    <div id="intro-overlay" onclick="startSystem()">
        <div class="enter-prompt">SYSTEM READY<br><br>CLICK TO INITIALIZE</div>
    </div>

    <div id="main-content">
        <div id="art-section"></div>
        <div id="ui-layer">
            <div class="data-column">
                <div id="word-1" class="word-item">AXIS_READY</div>
                <div id="word-2" class="word-item">GRID_STABLE</div>
            </div>
            <div class="data-column" style="align-items: flex-end; text-align: right;">
                <div id="word-3" class="word-item" style="border-left:none; border-right:2px solid #F7F8F6;">SIGNAL_SYNC</div>
                <div id="word-4" class="word-item" style="border-left:none; border-right:2px solid #F7F8F6;">LATENCY: 0.04ms</div>
            </div>
        </div>
    </div>

    <script>
        const groups = {
            "word-1": ["AXIS","VECTOR","VERTEX","NODE","CORE"],
            "word-2": ["FIELD","SURFACE","MATRIX","PLANE","LAYER"],
            "word-3": ["TRACE","ETCH","IMPRINT","STAMP","MARK"],
            "word-4": ["NOISE","DELTA","JITTER","ERROR","SHIFT"]
        };

        let isStarted = false;
        let speed = 0;
        let lastX = window.innerWidth / 2, lastY = window.innerHeight / 2;
        let audioCtx, noiseGain, humFilter;

        // --- 사운드 시스템 ---
        function initAudio() {
            audioCtx = new (window.AudioContext || window.webkitAudioContext)();
            const osc = audioCtx.createOscillator();
            const humG = audioCtx.createGain();
            humFilter = audioCtx.createBiquadFilter();
            osc.type = 'sawtooth'; osc.frequency.setValueAtTime(45, audioCtx.currentTime);
            humFilter.type = 'lowpass'; humFilter.frequency.setValueAtTime(130, audioCtx.currentTime);
            humG.gain.setValueAtTime(0.015, audioCtx.currentTime);
            osc.connect(humFilter); humFilter.connect(humG); humG.connect(audioCtx.destination);
            osc.start();
        }

        // --- 비주얼 엔진 ---
        const app = new PIXI.Application({ backgroundColor: 0x0a0a0a, antialias: true, resizeTo: window });
        document.getElementById('art-section').appendChild(app.view);
        const gfx = new PIXI.Graphics();
        app.stage.addChild(gfx);

        app.ticker.add(() => {
            if (!isStarted) return;
            const t = app.ticker.lastTime / 1000;
            gfx.clear();
            gfx.lineStyle(1.2, 0xF7F8F6, 0.4);
            const cx = app.screen.width / 2, cy = app.screen.height / 2;
            const r = Math.min(cx, cy) * 0.4;

            for(let j=0; j<2; j++) {
                const phase = t * (1 + j*0.2);
                gfx.moveTo(cx + Math.cos(phase)*r, cy + Math.sin(phase)*r);
                for (let i = 0; i <= 20; i++) {
                    const ang = (i / 20) * Math.PI * 2 + phase;
                    const dr = r + Math.sin(t * 3 + i) * (speed * 0.4);
                    gfx.lineTo(
